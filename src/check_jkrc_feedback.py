import time
from jaka_control.jkrc_feedback import RCFeedBack


if __name__ == '__main__':
    rc_feedback = RCFeedBack()
    rc_feedback.login()
    """
    {
        'len': 3208, 
        'drag_status': False, 
        'errcode': '0x0', 
        'errmsg': '', 
        'monitor_data': [12338, 12593, 47.0, 0.0, 0.0, [[0.0, 48.0, 28.0, 0.0, 0.10000000149011612, 30363.5, 390097.0, 0.0, 1.0, 0.0, -1.0188410813171915], [0.0, 48.0, 28.0, 0.0, 0.30000001192092896, 37902.8984375, 393369.0, 0.0, 1.0, 0.0, -33.17338591104047], [0.0, 48.0, 27.0, 0.0, 0.20000000298023224, 44040.80078125, 396730.0, 0.0, 1.0, 0.0, -21.96424810653827], [0.0, 48.0, 28.0, 0.0, 0.4000000059604645, 45704.0, 390406.0, 0.0, 1.0, 0.0, -1.9799836204549597], [0.0, 48.0, 28.0, 0.0, 0.20000000298023224, 21227.0, 390442.0, 0.0, 1.0, 0.0, 0.7655765777025206], [0.0, 48.0, 28.0, 0.0, 0.20000000298023224, 35804.69921875, 395093.0, 0.0, 1.0, 0.0, -0.12064021426485122]]], 
        'torqsensor': [[0, ['192.168.2.100', 8080], [0.449, [0.0, 0.0, 20.0]]], [0, 0, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]]], 
        'joint_actual_position': [-263.40236, 106.90883, 75.54514, 89.82753, -93.42602, -13.40708], 
        'actual_position': [-49.97239, -612.24783, 404.47777, 176.98298, -2.80027, -159.85328], 
        'din': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], 
        'dout': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], 
        'ain': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 
        'aout': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 
        'tio_din': [0, 0, 0, 0, 0, 0, 0, 0], 
        'tio_dout': [0, 0, 0, 0, 0, 0, 0, 0], 
        'tio_ain': [474.0, 474.0], 
        'task_state': 1, 
        'homed': [1, 1, 1, 1, 1, 1, 0, 0, 0], 
        'task_mode': 1, 
        'interp_state': 0, 
        'enabled': False, 
        'paused': False, 
        'rapidrate': 1.0, 
        'current_tool_id': 0, 
        'current_user_id': 1, 
        'on_soft_limit': 0, 
        'emergency_stop': 0, 
        'drag_near_limit': [0, 0, 0, 0, 0, 0], 
        'funcdi': [[-1, -1], [-1, -1], [-1, -1], [-1, -1], [-1, -1], [-1, -1], [-1, -1], [-1, -1], [-1, -1], [-1, -1], [-1, -1], [-1, -1], [-1, -1], [-1, -1], [-1, -1]], 
        'powered_on': 0, 
        'inpos': True, 
        'motion_mode': 1, 
        'curr_tcp_trans_vel': 0.0, 
        'protective_stop': 0, 
        'point_key': 0, 
        'netState': 1, 
        'timestamp': 668610.168253919
    }
    """
    def callback(data):
        print(f"Callback: {data}")
    rc_feedback.set_callback(callback)
    while True:
        data = rc_feedback.feedBackData()
        print(f"Feedback Data: {data}")
        time.sleep(1)
